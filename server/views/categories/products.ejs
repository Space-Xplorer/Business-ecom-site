
<h2>Products in <%= subcategory %></h2>

<% if (products.length === 0) { %>
  <p>No products found.</p>
<% } else { %>
  <div class="card-container">
    <% products.forEach(p => { %>
      <div class="card">
        <h3><%= p.name %></h3>
        <img src="<%= p.photos[0] || '/default.jpg' %>" alt="Product Image" width="100%">
        <p>â‚¹<%= p.price %></p>
        <p>Sizes: <%= p.sizesAvailable.join(", ") %></p>
        <p>Colors: <%= p.colors.join(", ") %></p>
        <p>Stock: <%= p.stock %></p>
      </div>
    <% }) %>
  </div>

  <!-- Pagination Controls -->
  <div class="pagination">
    <% if (currentPage > 1) { %>
      <a href="?page=<%= currentPage - 1 %>">Previous</a>
    <% } %>

    <% for (let i = 1; i <= totalPages; i++) { %>
      <a href="?page=<%= i %>" class="<%= i === currentPage ? 'active' : '' %>"><%= i %></a>
    <% } %>

    <% if (currentPage < totalPages) { %>
      <a href="?page=<%= currentPage + 1 %>">Next</a>
    <% } %>
  </div>
<% } %>

<style>
  .card-container {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-top: 1rem;
  }

  .card {
    width: 250px;
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 1rem;
    box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.05);
    text-align: center;
  }

  .pagination {
    margin-top: 2rem;
    text-align: center;
  }

  .pagination a {
    margin: 0 5px;
    padding: 8px 12px;
    background: #eee;
    border-radius: 5px;
    text-decoration: none;
    color: #333;
  }

  .pagination a.active {
    background: #333;
    color: #fff;
  }
</style>